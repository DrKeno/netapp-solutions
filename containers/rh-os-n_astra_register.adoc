---
sidebar: sidebar
permalink: containers/rh-os-n_astra_register.html
summary:
keywords: NetApp Astra Control, Astra Control Center, Application, Trident, Helm, Operator, ONTAP, OpenShift, Kubernetes, Red Hat OpenShift
---

= Register your Red Hat OpenShift Clusters to Astra Control Center

:hardbreaks:
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ./../media/

To enable Astra Control Center to manage your workloads, you first need to register your Red Hat OpenShift Cluster.

== Register Red Hat OpenShift Clusters

.	The first step is to add the OpenShift clusters to the Astra Control Center and manage them. Go to `Clusters` and click on `Add a Cluster`, upload the kubeconfig file for the OpenShift cluster and click on ‘Select Storage’.
image:redhat_openshift_image91.jpg[Astra Control Center create cluster]

. Astra Control Center detects the eligible storage classes. Now select the storageclass provisions volumes using Trident backed by an SVM on NetApp ONTAP, click on `Review`. In the next pane, verify the details and click on `Add Cluster`.
image:redhat_openshift_image92.jpg[Astra Control Center create cluster select storage]

.	Register both the OpenShift clusters as described in step 1. The clusters when added move to `Discovering` status while Astra Control Center inspects the clusters, installs necessary agents and their status changes to `Running` when they are successfully registered.
image:redhat_openshift_image93.jpg[Astra Control Center clusters available]
+
NOTE: All the Red Hat OpenShift clusters that are to be managed by Astra Control Center should have access to the image registry that was used for its installation as the agents installed on the managed clusters will pull the images from that registry.

.	Next step is to import ONTAP clusters as Storage resources to be managed as backends by Astra Control Center. When OpenShift clusters are added to Astra and a storageclass is configured, it automatically discovers and inspects the ONTAP cluster backing the storageclass but is not imported into Astra Control Center to be managed.
image:redhat_openshift_image94.jpg[Astra Control Center backend discovery]

.	To import the ONTAP clusters, go to `Backends` and click on the dropdown and select `Manage` next to the ONTAP cluster that has to be managed. Enter the ONTAP cluster credentials, click `Review Information` and then click `Import storage backend`.
image:redhat_openshift_image95.jpg[Astra Control Center create backend]

. Once the backends are added, the status changes to `Available`. These backends have the information about the persistent volumes in the OpenShift cluster and the corresponding volumes on the ONTAP system.
image:redhat_openshift_image96.jpg[Astra Control Center backends available]

.	For backup and restore across OpenShift clusters, Astra Control Center requires to be backed up by object storage. It currently supports ONTAP S3, StorageGRID, AWS S3 and for the purpose of this installation, we are going to configure AWS S3 bucket. Go to `Buckets`, click `Add bucket` and select `Generic S3`. Enter the details about the S3 bucket and credentials to access it, click on the checkbox `Make this bucket the default bucket for the cloud` and then click `Add`.
image:redhat_openshift_image97.jpg[Astra Control Center create bucket]



link:rh-os-n_astra_applications.html[Next: Choose the Applications To Protect: Red Hat OpenShift with NetApp.]
