---
sidebar: sidebar
permalink: containers/rh-os-n_openshift_RHV.html
keywords: Red Hat Virtualization, OpenShift, RHV
summary:
---

= OpenShift on Red Hat Virtualization
:hardbreaks:
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ./../media/

//
// This file was created with NDAC Version 0.9 (June 4, 2020)
//
// 2020-06-25 14:31:33.555482
//

[.lead]


RHV is an enterprise virtual data center platform that runs on Red Hat Enterprise Linux (RHEL) and uses the KVM hypervisor.

For more information about RHV, see the https://www.redhat.com/en/technologies/virtualization/enterprise-virtualization[Red Hat Virtualization website^].

RHV provides the following features:

* *Centralized management of VMs and hosts.* The RHV manager runs as a physical or virtual machine (VM) in the deployment and provides a web-based GUI for the management of the solution from a central interface.

* *Self-hosted engine.* To minimize the hardware requirements, RHV allows RHV Manager (RHV-M) to be deployed as a VM on the same hosts that run guest VMs.

* *High availability.* In event of host failures, to avoid disruption, RHV allows VMs to be configured for high availability. The highly available VMs are controlled at the cluster level using resiliency policies.

* *High scalability.* A single RHV cluster can have up to 200 hypervisor hosts enabling it to support requirements of massive VMs to hold resource-greedy,  enterprise-class workloads.

* *Enhanced security.*  Inherited from RHV, Secure Virtualization (sVirt) and Security Enhanced Linux (SELinux) technologies are employed by RHV for the purposes of elevated security and hardening for the hosts and VMs. The key advantage from these features is logical isolation of a VM and its associated resources.


image:redhat_openshift_image3.png[Error: Missing Graphic Image]



=== Network Design

The Red Hat OpenShift on RHV on HCI solution uses two data switches to provide primary data connectivity at 25Gbps. It also uses two additional management switches that provide connectivity at 1Gbps for in-band management for the storage nodes and out-of-band management for IPMI functionality.  OCP uses the logical network on the RHV for the cluster management.  This section describes the arrangement and purpose of each virtual network segment used in the solution and outlines the pre-requisites for deployment of the solution.

==== VLAN Requirements

Red Hat OpenShift on RHV is designed to logically separate network traffic for different purposes by using virtual local area networks (VLANs). This configuration can be scaled to meet customer demands or to provide further isolation for specific network services. The following table lists the VLANs that are required to implement the solution while validating the solution at NetApp.

|===
|VLANs |Purpose |VLAN ID

|Out-of-band management network
|Management for physical nodes and IPMI
|16
|VM Network
|Virtual Guest Network Access
|181
|In-band management network
|Management for RHV-H Nodes, RHV-Manager, ovirtmgmt network
|3343
|Storage network
|Storage network for NetApp Element iSCSI
|3344
|Migration network
|Network for virtual guest migration
|3345
|===

==== Network Infrastructure Support Resources

The following infrastructure should be in place prior to the deployment of the OpenShift Container Platform (OCP) on Red Hat Virtualization solution:

* At least one DNS server which provides a full host-name resolution that is accessible from the in-band management network and the VM network.

* At least one NTP server that is accessible from the in-band management network and the VM network.

* (Optional) Outbound internet connectivity for both the in-band management network and the VM network.

* RHV cluster should have at least 28x vCPUs, 112GB RAM, and 840GB of available storage (depending on the production workload requirements).

link:rh-os-n_overview_netapp.html[Next: NetApp Storage Overview]
