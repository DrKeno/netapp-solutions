---
sidebar: sidebar
permalink: saphana_aff_nfs_introduction.html
keywords:
summary:
---

= Introduction
:hardbreaks:
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ./media/

//
// This file was created with NDAC Version 2.0 (August 17, 2020)
//
// 2021-05-20 16:44:23.284224
//

[.lead]
The NetApp AFF system product family has been certified for use with SAP HANA in tailored data center integration (TDI) projects. The certified enterprise storage system is characterized by the NetApp ONTAP software.

This certification is valid for the following models:

* AFF A220, AFF A250, AFF A300, AFF A320, AFF A400, AFF A700s, AFF A700, AFF A800A complete list of NetApp certified storage solutions for SAP HANA can be found at the https://www.sap.com/dmc/exp/2014-09-02-hana-hardware/enEN/enterprise-storage.html[Certified and supported SAP HANA hardware directory^].

This document describes the ONTAP configuration requirements for the NFS protocol version 3 (NFSv3) or the NFS protocol version 4 (NFSv4.0 and NFSv4.1).

For the remainder of this document, NFSv4 refers to both NFSv4.0 and NFSv4.1.

[NOTE]
The configuration described in this paper is necessary to achieve the required SAP HANA KPIs and the best performance for SAP HANA. Changing any settings or using features not listed herein might cause performance degradation or unexpected behavior and should only be done if advised by NetApp support.

The configuration guides for NetApp AFF systems using FCP and for FAS systems using NFS or FCP can be found at the following links:

* http://www.netapp.com/us/media/tr-4384.pdf[SAP HANA on NetApp FAS Systems with Fibre Channel Protocol^]
* http://www.netapp.com/us/media/tr-4290.pdf[SAP HANA on NetApp FAS Systems with NFS^]
* http://www.netapp.com/us/media/tr-4436.pdf[SAP HANA on NetApp AFF Systems with Fibre Channel Protocol^] shows the supported combinations for NFS versions, NFS locking, and the required isolation implementations,  depending on the SAP HANA database configuration.

For SAP HANA single- host systems or multiple hosts without using Host Auto-Failover, NFSv3 and NFSv4 are supported. 

For SAP HANA multiple host systems with Host Auto-Failover, NetApp only supports NFSv4, while using NFSv4 locking as an alternative to a server- specific STONITH (SAP HANA HA/DR provider) implementation.

|===
|SAP HANA |NFS version |NFS locking |SAP HANA HA/DR provider

|SAP HANA single host, multiple hosts without Host Auto-Failover
|NFSv3 
|Off
|n/a
|
|NFSv4 
|On
|n/a
|SAP HANA multiple hosts using Host Auto-Failover
|NFSv3
|Off
|Server-specific STONITH implementation mandatory 
|
|NFSv4 
|On
|Not required
|===

[NOTE]
A server specific STONITH implementation is not part of this guide. Contact your server vendor for such an implementation.

This document covers configuration recommendations for SAP HANA running on physical servers and on virtual servers that use VMware vSphere.

=== SAP HANA tailored data center integration

NetApp AFF storage controllers are certified in the SAP HANA TDI program using both NFS (NAS) and FC (SAN) protocols. They can be deployed in any of the current SAP HANA scenarios, such as SAP Business Suite on HANA, S/4HANA, BW/4HANA,  or SAP Business Warehouse on HANA in either single- host or multiple-host configurations. Any server that is certified for use with SAP HANA can be combined with NetApp certified storage solutions. See  an architecture overview

SAP HANA TDI.

image:saphana_aff_nfs_image1.png[Error: Missing Graphic Image]

For more information regarding the prerequisites and recommendations for producti SAP HANA systems, see the following resources:

* http://go.sap.com/documents/2016/05/e8705aae-717c-0010-82c7-eda71af511fa.html[SAP HANA Tailored Data Center Integration Frequently Asked Questions^] 
* http://go.sap.com/documents/2015/03/74cdb554-5a7c-0010-82c7-eda71af511fa.html[SAP HANA Storage Requirements^]=== 
